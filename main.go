package main

import (
	"fmt"
	"github.com/solanafish/millibelle/internal/text"
	"time"
)
import "github.com/solanafish/millibelle/internal/ledScreen"

func main() {
	fmt.Println("xd")

	pixels := [32][8][3]uint8{
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}},
		{{255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
		{{000, 000, 000}, {255, 000, 000}, {255, 000, 000}, {255, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}, {000, 000, 000}},
	}

	ledScreen.Init()
	err := ledScreen.NextFrame(pixels)
	//time.Sleep(2000 * time.Millisecond)

	var color = [3]uint8 {
		255, 255, 255,
	}

	hours, minutes, _ := time.Now().Local().Clock()
	currUTCTimeInString := fmt.Sprintf("%d:%02d", hours, minutes)

	ledScreen.NextFrame(text.DrawString(currUTCTimeInString, 0, color, pixels))
	time.Sleep(5000 * time.Millisecond)

	ledScreen.NextFrame(text.DrawString("kckc", 0, color, pixels))
	time.Sleep(5000 * time.Millisecond)

	var test = [38]byte{
		'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ',', '.', ':',
	}
	for _, letter := range test {
		pixels2 := text.DrawSign(letter, 10, color, pixels)
		ledScreen.NextFrame(pixels2)
		time.Sleep(1000 * time.Millisecond)
	}

	if err != nil {
		panic(err)
	}
	time.Sleep(2000 * time.Millisecond)

	ledScreen.Finish()
}
